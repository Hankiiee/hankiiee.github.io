"Hello World" 
<input type="text" id="myText" value="Some text...">
<button onclick="myFunction()">Try it</button>
<p id="demo"></p>
<a href="https://www.overodds.se/stryktipset" target="_blank">Stryktipset</a>
<a href="https://www.overodds.se/europatipset" target="_blank">Europatipset</a>
<table id="myTable">
  <thead>
    <tr>
      <th>Starttid</th>
      <th>Match</th>
      <th colspan="3">Odds</th>
      <th colspan="3">Svenska folkets</th>
      <th colspan="3">Sannolikhet enl odds</th>
      <th colspan="3">Översträckning</th>
      <th colspan="3">Riskjusterad Översträckning</th>
    </tr>
  </thead>
  <!-- <div id="tableWrapper"> -->
    <tbody id="testBody"></tbody>
  <!-- </div> -->
  </table>
  
<script>
  var games = []
    function myFunction() {
      var x = document.getElementById("myText").value;
      var obj = JSON.parse(x);
      obj = obj[0]
      const table = document.getElementById("testBody");
      table.style.borderCollapse = "collapse";
      if(!games.length == 0){
        console.log("games: ", games)
        calculate(games)
        table.innerHTML = "";
      }
      console.log(obj.matches)
      games = populate(obj, games)
      var index = 0;
      games.forEach((match) => {
          console.log(match)
        let row = table.insertRow()
        let name = row.insertCell(0);
        name.innerHTML = match.start_time.slice(11,16);  
        name = row.insertCell(1);
        name.innerHTML = match.name;
        name = row.insertCell(2);
        name.innerHTML = '<input type="number" id="' + index + '|' + 1 + '" value ="'+ match.input1 +'" /> ';      
        name = row.insertCell(3);
        name.innerHTML = '<input type="number" id="' + index + '|' + 'x' + '" value ="'+ match.inputx +'" /> ';
        name = row.insertCell(4);
        name.innerHTML = '<input type="number" id="' + index + '|' + 2 + '" value ="'+ match.input2 +'" /> ';   
        name = row.insertCell(5);
        name.style.borderLeft = "3px solid black"
        name.innerHTML = match.home + '%';   
        date = row.insertCell(6);
        date.innerHTML = match.draw + '%';
        name = row.insertCell(7);
        name.innerHTML = match.away + '%';
        name = row.insertCell(8);
        name.style.borderLeft = "3px solid black"
        name.innerHTML = (match.prob1*100)?.toFixed(2) + '%';
        name = row.insertCell(9);
        name.innerHTML = (match.probx*100)?.toFixed(2) + '%'
        name = row.insertCell(10);
        name.innerHTML = (match.prob2*100)?.toFixed(2) + '%'
        name = row.insertCell(11);
        name.style.borderLeft = "3px solid black"
        name.style.backgroundColor = match.color1o
        name.innerHTML = (match.over1*100)?.toFixed(2) + '%';
        name = row.insertCell(12);
        name.style.backgroundColor = match.colorxo
        name.innerHTML = (match.overx*100)?.toFixed(2) + '%'
        name = row.insertCell(13);
        name.style.backgroundColor = match.color2o
        name.innerHTML = (match.over2*100)?.toFixed(2) + '%'
        name = row.insertCell(14);
        name.style.borderLeft = "3px solid black"
        name.style.backgroundColor = match.color1
        name.innerHTML =  match.adj1?.toFixed(2) + '%';
        name = row.insertCell(15);
        name.style.backgroundColor = match.colorx
        name.innerHTML = match.adjx?.toFixed(2) + '%';
        name = row.insertCell(16);
        name.style.backgroundColor = match.color2
        name.style.borderRight = "3px solid black"
        name.innerHTML = match.adj2?.toFixed(2) + '%';
        index++;  
    })
    // style='border-right: 3px solid black; 
      console.log(obj)
      console.log(obj.id)
      document.getElementById("demo").innerHTML = obj.id;
    }
  function populate(obj, games){
    var i = 0;
    var game = {}
    obj.matches.forEach((match) => {
      if(!games[i]){
        game = {}
        game.input1=0
        game.inputx=0
        game.input2=0
        games.push(JSON.parse(JSON.stringify(game)))
      }
      games[i].name = match.name;
      games[i].home = match.distribution.home;
      games[i].draw = match.distribution.draw;
      games[i].away = match.distribution.away;
      games[i].start_time = match.start_time;
      i++;
    })
    return games;
    console.log("populated: " , games)
  }

  function calculate(games){
    var index = 0
    var ratio = 0
    games.forEach((game) => {

      game.input1 = document.getElementById(index + '|' + 1).value
      game.inputx = document.getElementById(index + '|' + 'x').value
      game.input2 = document.getElementById(index + '|' + 2).value
      ratio = 100/((100/game.input1)+(100/game.inputx)+(100/game.input2))
      game.prob1 = ratio/game.input1
      game.probx = ratio/game.inputx
      game.prob2 = ratio/game.input2
      game.over1 = game.home/100 - game.prob1
      game.overx = game.draw/100 - game.probx
      game.over2 = game.away/100 - game.prob2
      game.adj1 = ((1-game.prob1)*game.over1)*100
      game.adjx = ((1-game.probx)*game.overx)*100
      game.adj2 = ((1-game.prob2)*game.over2)*100
      game.color1 = color(game.adj1, "adj")
      game.colorx = color(game.adjx, "adj")
      game.color2 = color(game.adj2, "adj")
      game.color1o = color(game.over1, "over")
      game.colorxo = color(game.overx, "over")
      game.color2o = color(game.over2, "over")
      // game.color1 = "#ffffff"
      // game.colorx = "#ffffff"
      // game.color2 = "#ffffff"
      index++;
    })
  }
  function color(adj, type){
    var color = ""
    if (type === "over"){
    adj*=100
    if(adj <= -6){
      color = "#03fc84"
      if(adj <= -9.5){
        color = "#339e6a"
      }
    }else if (adj >= 6){
        color = "#ff9640"
      if(adj <= 9.5){
      color = "#ff3636"
      }
    }
    }else if (type === "adj") {
      if (adj >= 4.5){
        color = "#ff9640"
      if(adj >= 7.5){
      color = "#ff3636"
      }
    } 
    }
    // var grad = (Math.abs(adj)*5)
    // if (grad >= 255){
    //   grad = 255;
    // }
    // if(adj >= 0 ){
    //   color = "#00" + Math.round(grad).toString(16) + "00"
    // }else{
    //   color = "#"+ Math.round(grad).toString(16) + "0000"
    // }
    return color
  }
</script>

<style>
  tr:nth-child(even){
    background-color: #ffffcc;
  }
  input {
    width: 50px;
  }
  table {
	border-collapse:collapse;
	padding-top:0;
	padding-bottom:0;
}
</style>
<!-- Färgerna:
På Överstreckning:
< 6% ljusgrön
< 9,5% mörkgrön
6% orange
9,5% röd

På Riskjust. överstreckning:
4,5% orange
7,5% röd -->

<!-- Mindre viktigt, men en idé hade också kunnat vara att ha fetstil på det som är intressant. 
  Typ bold på allt utom det som är +/-4 % -->
  <!-- Har inte haft några problem med kalkylerna, det som hade varit nice är lite färg, 
    och att det går att skilja kolumnerna åt. Just nu är det lite svårt att se så många 
    siffror ihop. -->
